# Programación de documentos web utilizando lenguajes de «script» de servidor
- Clasificación.
- Integración con los lenguajes de marcas.
- Sintaxis.
- Herramientas de edición de código.
- Elementos del lenguaje estructurado: tipos de datos, variables, operadores, estructuras de control, subprogramas…
- Elementos de orientación a objeto.
- Comentarios.
- Funciones integradas y de usuario.
- Gestión de errores.
- Mecanismos de introducción de información: formularios. Procesamiento de datos recibidos desde el cliente.
- Métodos de envío de datos desde el cliente al servidor.
- Autenticación de usuarios.
- Control de accesos.
- Sesiones. Mecanismos para mantener el estado entre conexiones.
- Configuración del intérprete.

# PHP

## Formularios

### Diseño de formularios
* http://www.phpform.org
### Cajas de entrada
```HTML
<input type="text" name="cadena" value="escribe aquí" maxlength="50" size="60" />
```
### Contraseñas
```HTML
<input 	type="password" name="contraseña" value="12345" maxlength="5" size="10" />
```
### Cajas de entrada de solo lectura
```HTML
<input type="text" name="resultado" value="" maxlength="30" size="30" readonly="readonly"/>
```
### Casillas de verificación
```HTML
<input type="checkbox" name="conducir" checked="checked" />
<input type="checkbox" name="estudiante"/>
```
### Botones de opción
```HTML
<input type="radio" name="estacion" value="primavera" checked="checked" />
<input type="radio" name="estacion" value="verano" />
<input type="radio" name=" estacion " value="otoño" />
<input type="radio" name=" estacion " value="invierno" />
```
### Botón restaurar
```HTML
<input name="restaurar" type="reset"  value="Restaurar"/>
```
### Botón enviar
```HTML
<input name="enviar" type="submit"  value="Enviar"/>
```
### Cajas de texto multilínea
```HTML
<textarea name="datos" rows="5" cols="40">
Nombre:
Apellidos:
Telefono:
</textarea>
```
### Cajas de texto multilínea de solo lectura
```HTML
<textarea name="datos" rows="5" cols="40" readonly="readonly">
Nombre: Carlos
Apellidos: Franco
</textarea>
```
### Cuadros combinados
```HTML
<select name="modulos">
      <option value="1">UNO</option>
      <option value="2">DOS</option>
      <option value="3" selected="selected">TRES</option>
      <option value="4">CUATRO</option>
</select>
```
### Lista de selección única
```HTML
<select name="modulos" size="5">
    <option value="XML">XML</option>
    <option value="GBD">GBD</option>
    <option value="PAR" selected="selected">PAR</option>
    <option value="FOL">FOL</option>
    <option value="ISO">ISO</option>
 </select>
```
### Lista de selección múltiple
```HTML
<select name="modulos[]" size="5" multiple="multiple">
    <option value="XML" selected="selected">XML</option>
    <option value="GBD">GBD</option>
    <option value="PAR" selected="selected">PAR</option>
    <option value="FOL">FOL</option>
    <option value="ISO">ISO</option>
 </select>
```
### Cuadro de listas jerárquico
```HTML
<select name="datos[]" size="9" multiple="multiple">
  <optgroup label="Módulos">
    <option value="XML" selected="selected">XML</option>
    <option value="GBD">GBD</option>
    <option value="PAR" selected="selected">PAR</option>
    <option value="FOL">FOL</option>
    <option value="ISO">ISO</option>
 </optgroup>
 <optgroup label="Países">
    <option value="España" selected="selected">España</option>
    <option value="Francia">Francia</option>
    <option value="Portugal">Portugal</option>
    <option value="China">China</option>
 </optgroup>
</select>
```
### Enviar ficheros
```HTML
<input name="fichero" type="file" size="100" />
```
### Etiquetas
```HTML
<label for="Nombre" accesskey="N"><ins>N</ins>ombre</label>
```
### Agrupación de controles
```HTML
<fieldset>
   <legend>Datos personales</legend>
   <!-- Controles -->
</fieldset>
```
### Controles ocultos
```HTML
<input name="dato" type="hidden" value="ocultado" />
```
### Controles deshabilitados
```HTML
<input name="Nombre" type="text" maxlength="10" size="10" value="Hola" disabled="disabled" />
```

## XML to JSON
* https://www.jesusninoc.com/02/26/convertir-un-fichero-xml-en-json-desde-php-y-utilizarlo-desde-powershell/
* https://www.jesusninoc.com/03/07/convertir-el-fichero-xml-con-la-lista-de-radares-de-espana-utilizando-php-desde-powershell/

## Incluir ficheros externos
* https://www.php.net/manual/es/function.include.php

## Funciones
* https://www.php.net/manual/es/functions.user-defined.php

## Ejecutar comandos en el sistema opeartivo
* https://www.php.net/manual/es/function.shell-exec.php
* https://www.jesusninoc.com/01/06/ejecutar-un-cmdlet-de-powershell-desde-php/
* https://www.jesusninoc.com/02/19/ejecutar-el-cmdlet-get-nettcpconnection-de-powershell-en-php/
* https://www.jesusninoc.com/02/21/ejecutar-en-php-un-cmdlet-de-powershell-en-base64/

## Cifrado

### Cifrar una información

```PHP
/* Para encriptar la información $secreta se hace lo siguiente: */
$td = mcrypt_module_open('rijndael-256', '', 'ofb', '');
/* Obtener el vector de inicialización */
$is = mcrypt_enc_get_iv_size($td);
$iv = mcrypt_create_iv($is);

/* Obtener la clave */
$ks = mcrypt_enc_get_key_size($td);
$key = substr(md5('very secret key'), 0, $ks);

/* Las funciones mcrypt_enc_get devuelven el tamaño en bytes del vector de inicialización (IV) y de la clave para un determinado descriptor de cifrado. */
/* Inicializar encriptación */
mcrypt_generic_init($td, $key, $iv);

/* Encriptar datos */
$encriptado = mcrypt_generic($td, $secreta);

/* Terminar encriptacion */
mcrypt_generic_deinit($td);

mcrypt_module_close($td);

//Se almacenan &encriptado y $iv
```` 

### Descifrar una información

```PHP
/* Para desencriptar una determinada encriptacion $encriptado con un vector de inicialización $iv y una determinada clave $key se hace lo siguiente: */
$td = mcrypt_module_open('rijndael-256', '', 'ofb', '');
ks = mcrypt_enc_get_key_size($td);
$key = substr(md5('very secret key'), 0, $ks);
$iv = //Se obtiene el vector de inicializacion
$encriptado = //Se obtiene el valor a desencriptar

/* Inicializar desencriptación */
mcrypt_generic_init($td, $key, $iv);

/* Desencriptar datos */
$secreta = mdecrypt_generic($td, $encriptado);

/* Terminar desencriptacion */
mcrypt_generic_deinit($td);

mcrypt_module_close($td);
```

# Ejemplos de PHP

## Función de suma
```PHP
function sumar($a,$b)
{
	$valor1 = (int) $a;
	$valor2 = (int) $b;
	$suma = $valor1 + $valor2;
     return $suma; 
}
$valor = 2;
$resultado = 1 - sumar(5,3*$valor); 
```

### Función que suma cualquier número de enteros sería
```PHP
function sumar() 
{
	$suma = 0;

	for($i=0;$i< func_num_args();$i++)
	{
		$suma += (int) func_get_arg($i);
	}

	return $suma;
}
$valor = sumar(1,2,3,4,5,6);
```

### Función que devuelve un valor
```PHP
function menorMayor($a, $b)
{
	$a = (int) $a;
	$b = (int) $b;

	if($a == $b) $comp = 0;
     else if ($a < $b) $comp = -1;
     else $comp = 1;

	return $comp;
}
```

## Ejecutar un comando en Linux y mostrar información en PHP

```PHP
<?php
	$salida = shell_exec('ls -lart');
	echo "<pre>$salida</pre>";
?>
```

## Ejecutar un comando en Linux o Windows en PHP

```PHP
<?php
function execCommand($command, $log) {

    if (substr(php_uname(), 0, 7) == "Windows")
    {
        //windows
        pclose(popen("start /B " . $command . " 1> $log 2>&1", "r"));
    }
    else
    {
        //linux
        shell_exec( $command . " 1> $log 2>&1" );
    }
   
    return false;
}
?>
```

# Ejercicios

## Ejercicio 3. Incrementar un número mediante GET (17)

## Ejercicio 4. Concatenar campos (21)

----------------------

# Poner en funcionamiento TensorFlow con Docker

## Comandos ejecutados en PowerShell de Windows para poner en funcionamiento la máquina Docker
```PowerShell
docker pull tensorflow/tensorflow
docker run -it --rm tensorflow/tensorflow
docker run -it tensorflow/tensorflow bash
```

## Comandos ejecutados en la máquina con TensorFlow
```Bash
    1  ls
    2  cd tmp/
    3  ls
    4  mkdir tensor
    5  cd tensor/
    6  apt install wget
    7  wget https://raw.githubusercontent.com/tensorflow/models/master/tutorials/image/imagenet/classify_image.py
    8  pip install tensorflow-cpu
    9  pip install --upgrade pip
   10  pip install tensorflow-cpu
   11  pip install tensorflow==1.14.0
   12  python classify_image.py
```
